<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <title>New Item</title>
    <h:head>
        <link href="css/stylesheet.css" rel="stylesheet" type="text/css" />
        <h1>Add Item</h1>
    </h:head>
    <h:body>
        <h:form>
            <h:panelGrid columns="3" cellpadding="5" style="width:500px">
                <p:outputLabel for="itemName" value="Item Name: " indicateRequired="false"/>
                <p:inputText id="itemName" 
                             value="#{additemview.itemName}" 
                             required="true"
                             requiredMessage="You must enter an item name"/>
                <h:message for="itemName" style="color:red;margin:8px;"/>
                <p:outputLabel for="itemDescription" value="Item Description: " indicateRequired="false"/>
                <p:inputText id="itemDescription" 
                             value="#{additemview.itemDescription}" 
                             required="true"
                             requiredMessage="You must enter an item description"/>
                <h:message for="itemDescription" style="color:red;margin:8px;"/>  
                <p:outputLabel for="itemCategory" value="Item Category: " indicateRequired="false"/>
                <p:selectOneMenu id="itemCategory" value="#{categorydropdown.category}" required="true"
                                 requiredMessage="You must select an item category"  style="width:160px">
                    <f:selectItem itemLabel="Select Category" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{categorydropdown.categories}"/>
                </p:selectOneMenu>
                <h:message for="itemCategory" style="color:red;margin:8px;"/>
                <p:outputLabel for="itemPrice" value="Item Price: " indicateRequired="false"/>
                <p:inputNumber id="itemPrice" value="#{additemview.itemPrice}" 
                               symbol="$"
                               symbolPosition="p"
                               decimalSeparator="."
                               decimalPlaces="2"
                               thousandSeparator=","
                               minValue="0.00" 
                               required="true"
                               requiredMessage="You must enter an item price"/>
                <h:message for="itemPrice" style="color:red;margin:8px;"/>
                <p:outputLabel for="itemStock" value="Item Stock: " indicateRequired="false"/>
                <p:inputNumber id="itemStock" value="#{additemview.itemStock}"
                               decimalPlaces="0"
                               minValue="0" 
                               required="true"
                               requiredMessage="You must enter an item stock"/>
                <h:message for="itemStock" style="color:red;margin:8px;"/>
            </h:panelGrid>
            <p:fileUpload fileUploadListener="#{itemimage.handleFileUpload}" mode="advanced" dragDropSupport="true"
                          update="messages" sizeLimit="100000000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                          style="width:400px" />
 
            <p:growl id="messages" showDetail="true" />
            <h:commandButton value="Add Item" action="#{additemview.addNewItem}"/>
        </h:form>
    </h:body>
</html>